{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://schema.gns.network/v1/gsite.schema.json",
  "title": "gSite Schema",
  "description": "JSON Schema for validating gSite entities in the GNS/PANTHERA ecosystem",
  "version": "1.0.0",
  
  "definitions": {
    
    "MediaRef": {
      "type": "object",
      "description": "Reference to media files (images, videos)",
      "required": ["url"],
      "properties": {
        "url": {
          "type": "string",
          "description": "Media URL (gns://, ipfs://, https://)",
          "pattern": "^(gns://|ipfs://|https://).+"
        },
        "alt": {
          "type": "string",
          "description": "Alt text for accessibility",
          "maxLength": 500
        },
        "width": {
          "type": "integer",
          "description": "Width in pixels",
          "minimum": 1
        },
        "height": {
          "type": "integer",
          "description": "Height in pixels",
          "minimum": 1
        },
        "mimeType": {
          "type": "string",
          "description": "MIME type",
          "pattern": "^(image|video|audio)/.+"
        },
        "blurhash": {
          "type": "string",
          "description": "BlurHash for placeholder"
        }
      }
    },
    
    "Price": {
      "type": "object",
      "description": "Monetary amount with currency",
      "required": ["amount", "currency"],
      "properties": {
        "amount": {
          "type": "number",
          "description": "Numeric amount",
          "minimum": 0
        },
        "currency": {
          "type": "string",
          "description": "Currency code",
          "enum": ["XLM", "USDC", "GNS", "USD", "EUR", "GBP", "JPY", "CNY", "BTC", "ETH"]
        },
        "display": {
          "type": "string",
          "description": "Formatted display string"
        }
      }
    },
    
    "Coordinates": {
      "type": "object",
      "description": "Geographic coordinates",
      "required": ["lat", "lng"],
      "properties": {
        "lat": {
          "type": "number",
          "description": "Latitude",
          "minimum": -90,
          "maximum": 90
        },
        "lng": {
          "type": "number",
          "description": "Longitude",
          "minimum": -180,
          "maximum": 180
        }
      }
    },
    
    "Location": {
      "type": "object",
      "description": "Physical location",
      "properties": {
        "h3": {
          "type": "string",
          "description": "H3 hexagon index (privacy-preserving)",
          "pattern": "^[0-9a-f]{15}$"
        },
        "address": {
          "type": "string",
          "description": "Human-readable address",
          "maxLength": 500
        },
        "city": {
          "type": "string",
          "description": "City name",
          "maxLength": 100
        },
        "state": {
          "type": "string",
          "description": "State/province",
          "maxLength": 100
        },
        "country": {
          "type": "string",
          "description": "Country code (ISO 3166-1 alpha-2)",
          "pattern": "^[A-Z]{2}$"
        },
        "postalCode": {
          "type": "string",
          "description": "Postal/ZIP code",
          "maxLength": 20
        },
        "coordinates": {
          "$ref": "#/definitions/Coordinates"
        }
      }
    },
    
    "DayHours": {
      "type": ["object", "null"],
      "description": "Hours for a single day",
      "properties": {
        "open": {
          "type": "string",
          "description": "Opening time (HH:MM)",
          "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
        },
        "close": {
          "type": "string",
          "description": "Closing time (HH:MM)",
          "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
        }
      },
      "required": ["open", "close"]
    },
    
    "HoursException": {
      "type": "object",
      "required": ["date"],
      "properties": {
        "date": {
          "type": "string",
          "format": "date",
          "description": "Exception date (YYYY-MM-DD)"
        },
        "closed": {
          "type": "boolean",
          "description": "Is closed on this date?"
        },
        "open": {
          "type": "string",
          "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
        },
        "close": {
          "type": "string",
          "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
        },
        "reason": {
          "type": "string",
          "description": "Reason for exception",
          "maxLength": 200
        }
      }
    },
    
    "Hours": {
      "type": "object",
      "description": "Business/operating hours",
      "properties": {
        "monday": { "$ref": "#/definitions/DayHours" },
        "tuesday": { "$ref": "#/definitions/DayHours" },
        "wednesday": { "$ref": "#/definitions/DayHours" },
        "thursday": { "$ref": "#/definitions/DayHours" },
        "friday": { "$ref": "#/definitions/DayHours" },
        "saturday": { "$ref": "#/definitions/DayHours" },
        "sunday": { "$ref": "#/definitions/DayHours" },
        "timezone": {
          "type": "string",
          "description": "IANA timezone identifier"
        },
        "exceptions": {
          "type": "array",
          "items": { "$ref": "#/definitions/HoursException" }
        }
      }
    },
    
    "Link": {
      "type": "object",
      "description": "External link",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "description": "Link type",
          "enum": [
            "website", "github", "twitter", "linkedin", "instagram", 
            "facebook", "youtube", "tiktok", "discord", "telegram",
            "mastodon", "threads", "medium", "substack", "dribbble",
            "behance", "figma", "notion", "email", "phone", "whatsapp", "signal"
          ]
        },
        "url": {
          "type": "string",
          "description": "Full URL (for website type)",
          "format": "uri"
        },
        "handle": {
          "type": "string",
          "description": "Handle/username (for social types)",
          "maxLength": 100
        }
      }
    },
    
    "Verification": {
      "type": "object",
      "description": "Third-party verification badge",
      "required": ["type", "provider", "value", "verified"],
      "properties": {
        "type": {
          "type": "string",
          "description": "Verification type",
          "enum": ["domain", "phone", "email", "government", "business", "professional"]
        },
        "provider": {
          "type": "string",
          "description": "Verification provider"
        },
        "value": {
          "type": "string",
          "description": "Verified value"
        },
        "verified": {
          "type": "string",
          "format": "date-time",
          "description": "Verification date"
        },
        "expires": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "Expiration date"
        }
      }
    },
    
    "TrustInfo": {
      "type": "object",
      "description": "Trust information from Universal Ledger",
      "properties": {
        "score": {
          "type": "number",
          "description": "Trust score (0-100)",
          "minimum": 0,
          "maximum": 100
        },
        "breadcrumbs": {
          "type": "integer",
          "description": "Total breadcrumbs collected",
          "minimum": 0
        },
        "since": {
          "type": "string",
          "format": "date",
          "description": "Date identity was established"
        },
        "verifications": {
          "type": "array",
          "items": { "$ref": "#/definitions/Verification" }
        }
      }
    },
    
    "PaymentConfig": {
      "type": "object",
      "description": "Payment configuration",
      "properties": {
        "accept": {
          "type": "array",
          "description": "Accepted currencies",
          "items": {
            "type": "string",
            "enum": ["XLM", "USDC", "GNS"]
          }
        },
        "minimumAmount": {
          "$ref": "#/definitions/Price"
        },
        "memo": {
          "type": "string",
          "description": "Default payment memo",
          "maxLength": 200
        }
      }
    },
    
    "MessageConfig": {
      "type": "object",
      "description": "Message configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "default": true
        },
        "facet": {
          "type": "string",
          "description": "Facet to receive messages"
        }
      }
    },
    
    "Actions": {
      "type": "object",
      "description": "Available actions",
      "properties": {
        "message": {
          "oneOf": [
            { "type": "boolean" },
            { "$ref": "#/definitions/MessageConfig" }
          ]
        },
        "payment": {
          "oneOf": [
            { "type": "boolean" },
            { "$ref": "#/definitions/PaymentConfig" }
          ]
        },
        "call": {
          "type": "boolean",
          "description": "Enable voice/video (future)"
        },
        "share": {
          "type": "boolean",
          "default": true
        },
        "follow": {
          "type": "boolean"
        },
        "directions": {
          "type": "boolean"
        }
      }
    },
    
    "ThemeOverrides": {
      "type": "object",
      "description": "Owner theme customizations",
      "properties": {
        "colors": {
          "type": "object",
          "properties": {
            "primary": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            },
            "secondary": {
              "type": "string",
              "pattern": "^#[0-9A-Fa-f]{6}$"
            }
          }
        },
        "typography": {
          "type": "object",
          "properties": {
            "fontFamily": {
              "type": "object",
              "properties": {
                "primary": {
                  "type": "string",
                  "enum": ["Inter", "Roboto", "Open Sans", "Lato", "Montserrat", "Poppins", 
                           "Merriweather", "Playfair Display", "Lora", "Source Serif",
                           "JetBrains Mono", "Fira Code", "Source Code Pro", "system-ui"]
                },
                "secondary": {
                  "type": "string",
                  "enum": ["Inter", "Roboto", "Open Sans", "Lato", "Montserrat", "Poppins", 
                           "Merriweather", "Playfair Display", "Lora", "Source Serif",
                           "JetBrains Mono", "Fira Code", "Source Code Pro", "system-ui"]
                }
              }
            }
          }
        },
        "layout": {
          "type": "object",
          "additionalProperties": true
        }
      }
    },
    
    "BaseGSite": {
      "type": "object",
      "description": "Common fields for all gSite types",
      "required": ["@context", "@type", "@id", "name", "signature"],
      "properties": {
        "@context": {
          "type": "string",
          "const": "https://schema.gns.network/v1"
        },
        "@type": {
          "type": "string",
          "enum": ["Person", "Business", "Store", "Service", "Publication", 
                   "Community", "Organization", "Event", "Product", "Place"]
        },
        "@id": {
          "type": "string",
          "description": "GNS identifier (@handle or namespace@)",
          "pattern": "^(@[a-z0-9_]{3,30}|[a-z0-9_]{3,30}@(@[a-z0-9_]{3,30})?)$"
        },
        "name": {
          "type": "string",
          "description": "Display name",
          "minLength": 1,
          "maxLength": 100
        },
        "tagline": {
          "type": "string",
          "description": "Short description",
          "maxLength": 160
        },
        "bio": {
          "type": "string",
          "description": "Longer description (markdown allowed)",
          "maxLength": 2000
        },
        "avatar": {
          "$ref": "#/definitions/MediaRef"
        },
        "cover": {
          "$ref": "#/definitions/MediaRef"
        },
        "trust": {
          "$ref": "#/definitions/TrustInfo"
        },
        "location": {
          "$ref": "#/definitions/Location"
        },
        "links": {
          "type": "array",
          "items": { "$ref": "#/definitions/Link" }
        },
        "actions": {
          "$ref": "#/definitions/Actions"
        },
        "theme": {
          "type": "string",
          "description": "Theme ID from registry"
        },
        "themeOverrides": {
          "$ref": "#/definitions/ThemeOverrides"
        },
        "created": {
          "type": "string",
          "format": "date-time"
        },
        "updated": {
          "type": "string",
          "format": "date-time"
        },
        "version": {
          "type": "integer",
          "minimum": 1
        },
        "language": {
          "type": "string",
          "description": "Primary language (ISO 639-1)",
          "pattern": "^[a-z]{2}$"
        },
        "languages": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-z]{2}$"
          }
        },
        "signature": {
          "type": "string",
          "description": "Ed25519 signature",
          "pattern": "^ed25519:[A-Za-z0-9+/=]+$"
        }
      }
    },
    
    "Facet": {
      "type": "object",
      "required": ["name", "id"],
      "properties": {
        "name": {
          "type": "string",
          "maxLength": 50
        },
        "id": {
          "type": "string",
          "description": "Facet ID (e.g., work@handle)"
        },
        "public": {
          "type": "boolean",
          "default": true
        }
      }
    },
    
    "NamespaceMembership": {
      "type": "object",
      "required": ["namespace"],
      "properties": {
        "namespace": {
          "type": "string"
        },
        "role": {
          "type": "string",
          "maxLength": 100
        }
      }
    },
    
    "Status": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "maxLength": 100
        },
        "emoji": {
          "type": "string",
          "maxLength": 10
        },
        "available": {
          "type": "boolean"
        }
      }
    },
    
    "MenuItem": {
      "type": "object",
      "required": ["name", "price"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "maxLength": 100
        },
        "description": {
          "type": "string",
          "maxLength": 500
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "image": {
          "$ref": "#/definitions/MediaRef"
        },
        "category": {
          "type": "string",
          "maxLength": 50
        },
        "available": {
          "type": "boolean",
          "default": true
        },
        "tags": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },
    
    "BusinessVerified": {
      "type": "object",
      "properties": {
        "visitors": {
          "type": "integer",
          "minimum": 0
        },
        "reviews": {
          "type": "integer",
          "minimum": 0
        },
        "rating": {
          "type": "number",
          "minimum": 0,
          "maximum": 5
        }
      }
    },
    
    "ProductVariant": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "options": {
          "type": "object",
          "additionalProperties": { "type": "string" }
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "stock": {
          "type": ["integer", "null"],
          "minimum": 0
        },
        "sku": {
          "type": "string"
        }
      }
    },
    
    "Product": {
      "type": "object",
      "required": ["id", "name", "price", "images"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "maxLength": 200
        },
        "description": {
          "type": "string",
          "maxLength": 2000
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "comparePrice": {
          "$ref": "#/definitions/Price"
        },
        "images": {
          "type": "array",
          "items": { "$ref": "#/definitions/MediaRef" },
          "minItems": 1
        },
        "category": {
          "type": "string"
        },
        "tags": {
          "type": "array",
          "items": { "type": "string" }
        },
        "stock": {
          "type": ["integer", "null"],
          "minimum": 0
        },
        "variants": {
          "type": "array",
          "items": { "$ref": "#/definitions/ProductVariant" }
        },
        "sku": {
          "type": "string"
        }
      }
    },
    
    "Category": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "image": {
          "$ref": "#/definitions/MediaRef"
        },
        "description": {
          "type": "string"
        }
      }
    },
    
    "ShippingMethod": {
      "type": "object",
      "required": ["name", "price"],
      "properties": {
        "name": {
          "type": "string"
        },
        "days": {
          "type": "string"
        },
        "price": {
          "type": "number",
          "minimum": 0
        }
      }
    },
    
    "Shipping": {
      "type": "object",
      "required": ["regions", "methods"],
      "properties": {
        "regions": {
          "type": "array",
          "items": { "type": "string" }
        },
        "methods": {
          "type": "array",
          "items": { "$ref": "#/definitions/ShippingMethod" }
        }
      }
    },
    
    "ServiceItem": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "priceType": {
          "type": "string",
          "enum": ["fixed", "hourly", "project", "quote"]
        },
        "duration": {
          "type": "string"
        }
      }
    },
    
    "PortfolioItem": {
      "type": "object",
      "required": ["title"],
      "properties": {
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "images": {
          "type": "array",
          "items": { "$ref": "#/definitions/MediaRef" }
        },
        "url": {
          "type": "string",
          "format": "uri"
        },
        "client": {
          "type": "string"
        }
      }
    },
    
    "Credential": {
      "type": "object",
      "required": ["name", "issuer"],
      "properties": {
        "name": {
          "type": "string"
        },
        "issuer": {
          "type": "string"
        },
        "date": {
          "type": "string",
          "format": "date"
        },
        "expires": {
          "type": "string",
          "format": "date"
        },
        "url": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    
    "Article": {
      "type": "object",
      "required": ["id", "title", "content", "author", "published"],
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string",
          "maxLength": 200
        },
        "excerpt": {
          "type": "string",
          "maxLength": 500
        },
        "content": {
          "type": "string",
          "description": "Markdown content"
        },
        "author": {
          "type": "string",
          "description": "Author @handle"
        },
        "published": {
          "type": "string",
          "format": "date-time"
        },
        "updated": {
          "type": "string",
          "format": "date-time"
        },
        "image": {
          "$ref": "#/definitions/MediaRef"
        },
        "tags": {
          "type": "array",
          "items": { "type": "string" }
        },
        "premium": {
          "type": "boolean",
          "default": false
        }
      }
    },
    
    "Author": {
      "type": "object",
      "required": ["handle"],
      "properties": {
        "handle": {
          "type": "string"
        },
        "role": {
          "type": "string"
        }
      }
    },
    
    "Topic": {
      "type": "object",
      "required": ["id", "name"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "postCount": {
          "type": "integer",
          "minimum": 0
        }
      }
    },
    
    "Membership": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["open", "approval", "invite", "paid"]
        },
        "fee": {
          "$ref": "#/definitions/Price"
        },
        "requirements": {
          "type": "string"
        }
      }
    },
    
    "Department": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {
          "type": "string"
        },
        "head": {
          "type": "string"
        },
        "facet": {
          "type": "string"
        }
      }
    },
    
    "Leader": {
      "type": "object",
      "required": ["handle", "title"],
      "properties": {
        "handle": {
          "type": "string"
        },
        "title": {
          "type": "string"
        }
      }
    },
    
    "Career": {
      "type": "object",
      "required": ["title"],
      "properties": {
        "id": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "department": {
          "type": "string"
        },
        "location": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "enum": ["full-time", "part-time", "contract", "internship"]
        },
        "remote": {
          "type": "boolean"
        },
        "description": {
          "type": "string"
        }
      }
    },
    
    "Venue": {
      "type": "object",
      "required": ["name", "location"],
      "properties": {
        "name": {
          "type": "string"
        },
        "location": {
          "$ref": "#/definitions/Location"
        },
        "capacity": {
          "type": "integer",
          "minimum": 1
        }
      }
    },
    
    "VirtualEvent": {
      "type": "object",
      "required": ["platform"],
      "properties": {
        "platform": {
          "type": "string",
          "enum": ["zoom", "meet", "teams", "webex", "custom"]
        },
        "url": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    
    "ScheduleItem": {
      "type": "object",
      "required": ["time", "title"],
      "properties": {
        "time": {
          "type": "string",
          "format": "date-time"
        },
        "endTime": {
          "type": "string",
          "format": "date-time"
        },
        "title": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "speakers": {
          "type": "array",
          "items": { "type": "string" }
        },
        "location": {
          "type": "string"
        }
      }
    },
    
    "Speaker": {
      "type": "object",
      "required": ["handle"],
      "properties": {
        "handle": {
          "type": "string"
        },
        "topic": {
          "type": "string"
        }
      }
    },
    
    "Ticket": {
      "type": "object",
      "required": ["name", "price"],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "available": {
          "type": ["integer", "null"],
          "minimum": 0
        },
        "perks": {
          "type": "array",
          "items": { "type": "string" }
        }
      }
    },
    
    "Spec": {
      "type": "object",
      "required": ["name", "value"],
      "properties": {
        "name": {
          "type": "string"
        },
        "value": {
          "type": "string"
        },
        "unit": {
          "type": "string"
        }
      }
    },
    
    "BuyLink": {
      "type": "object",
      "required": ["store", "price"],
      "properties": {
        "store": {
          "type": "string"
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "inStock": {
          "type": "boolean"
        },
        "url": {
          "type": "string"
        }
      }
    },
    
    "Area": {
      "type": "object",
      "required": ["type"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["polygon", "circle"]
        },
        "coordinates": {
          "type": "array",
          "items": { "$ref": "#/definitions/Coordinates" }
        },
        "radius": {
          "type": "number",
          "minimum": 0
        }
      }
    },
    
    "Admission": {
      "type": "object",
      "properties": {
        "free": {
          "type": "boolean"
        },
        "price": {
          "$ref": "#/definitions/Price"
        },
        "ticketUrl": {
          "type": "string",
          "format": "uri"
        }
      }
    },
    
    "Accessibility": {
      "type": "object",
      "properties": {
        "wheelchair": {
          "type": "boolean"
        },
        "parking": {
          "type": "boolean"
        },
        "elevator": {
          "type": "boolean"
        },
        "assistedListening": {
          "type": "boolean"
        }
      }
    }
  },
  
  "oneOf": [
    {
      "title": "Person",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "properties": {
            "@type": { "const": "Person" },
            "facets": {
              "type": "array",
              "items": { "$ref": "#/definitions/Facet" }
            },
            "namespaces": {
              "type": "array",
              "items": { "$ref": "#/definitions/NamespaceMembership" }
            },
            "skills": {
              "type": "array",
              "items": { "type": "string" }
            },
            "interests": {
              "type": "array",
              "items": { "type": "string" }
            },
            "status": {
              "$ref": "#/definitions/Status"
            }
          }
        }
      ]
    },
    {
      "title": "Business",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["category"],
          "properties": {
            "@type": { "const": "Business" },
            "category": {
              "type": "string"
            },
            "subcategories": {
              "type": "array",
              "items": { "type": "string" }
            },
            "hours": {
              "$ref": "#/definitions/Hours"
            },
            "phone": {
              "type": "string"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "menu": {
              "type": "array",
              "items": { "$ref": "#/definitions/MenuItem" }
            },
            "features": {
              "type": "array",
              "items": { "type": "string" }
            },
            "priceLevel": {
              "type": "integer",
              "minimum": 1,
              "maximum": 4
            },
            "verified": {
              "$ref": "#/definitions/BusinessVerified"
            }
          }
        }
      ]
    },
    {
      "title": "Store",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["products"],
          "properties": {
            "@type": { "const": "Store" },
            "products": {
              "type": "array",
              "items": { "$ref": "#/definitions/Product" }
            },
            "categories": {
              "type": "array",
              "items": { "$ref": "#/definitions/Category" }
            },
            "shipping": {
              "$ref": "#/definitions/Shipping"
            },
            "policies": {
              "type": "object",
              "properties": {
                "returns": { "type": "string" },
                "privacy": { "type": "string" },
                "terms": { "type": "string" }
              }
            }
          }
        }
      ]
    },
    {
      "title": "Service",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["profession", "services"],
          "properties": {
            "@type": { "const": "Service" },
            "profession": {
              "type": "string"
            },
            "services": {
              "type": "array",
              "items": { "$ref": "#/definitions/ServiceItem" }
            },
            "portfolio": {
              "type": "array",
              "items": { "$ref": "#/definitions/PortfolioItem" }
            },
            "credentials": {
              "type": "array",
              "items": { "$ref": "#/definitions/Credential" }
            },
            "serviceArea": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": ["local", "regional", "national", "remote"]
                },
                "radius": { "type": "number" },
                "regions": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              }
            }
          }
        }
      ]
    },
    {
      "title": "Publication",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["publicationType"],
          "properties": {
            "@type": { "const": "Publication" },
            "publicationType": {
              "type": "string",
              "enum": ["blog", "newsletter", "magazine", "journal"]
            },
            "articles": {
              "type": "array",
              "items": { "$ref": "#/definitions/Article" }
            },
            "authors": {
              "type": "array",
              "items": { "$ref": "#/definitions/Author" }
            },
            "frequency": {
              "type": "string"
            },
            "subscribers": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ]
    },
    {
      "title": "Community",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["communityType", "membership"],
          "properties": {
            "@type": { "const": "Community" },
            "communityType": {
              "type": "string",
              "enum": ["forum", "club", "group", "network", "guild"]
            },
            "memberCount": {
              "type": "integer",
              "minimum": 0
            },
            "membership": {
              "$ref": "#/definitions/Membership"
            },
            "topics": {
              "type": "array",
              "items": { "$ref": "#/definitions/Topic" }
            },
            "rules": {
              "type": "string"
            },
            "admins": {
              "type": "array",
              "items": { "type": "string" }
            },
            "moderators": {
              "type": "array",
              "items": { "type": "string" }
            }
          }
        }
      ]
    },
    {
      "title": "Organization",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["orgType"],
          "properties": {
            "@type": { "const": "Organization" },
            "orgType": {
              "type": "string",
              "enum": ["company", "nonprofit", "government", "education"]
            },
            "industry": {
              "type": "string"
            },
            "founded": {
              "type": "string",
              "format": "date"
            },
            "size": {
              "type": "string",
              "enum": ["1-10", "11-50", "51-200", "201-500", "500+"]
            },
            "headquarters": {
              "$ref": "#/definitions/Location"
            },
            "locations": {
              "type": "array",
              "items": { "$ref": "#/definitions/Location" }
            },
            "departments": {
              "type": "array",
              "items": { "$ref": "#/definitions/Department" }
            },
            "leadership": {
              "type": "array",
              "items": { "$ref": "#/definitions/Leader" }
            },
            "publicMembers": {
              "type": "boolean"
            },
            "careers": {
              "type": "array",
              "items": { "$ref": "#/definitions/Career" }
            }
          }
        }
      ]
    },
    {
      "title": "Event",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["eventType", "startDate", "timezone", "organizer"],
          "properties": {
            "@type": { "const": "Event" },
            "eventType": {
              "type": "string",
              "enum": ["conference", "meetup", "concert", "workshop", "webinar"]
            },
            "startDate": {
              "type": "string",
              "format": "date-time"
            },
            "endDate": {
              "type": "string",
              "format": "date-time"
            },
            "timezone": {
              "type": "string"
            },
            "venue": {
              "$ref": "#/definitions/Venue"
            },
            "virtual": {
              "$ref": "#/definitions/VirtualEvent"
            },
            "schedule": {
              "type": "array",
              "items": { "$ref": "#/definitions/ScheduleItem" }
            },
            "speakers": {
              "type": "array",
              "items": { "$ref": "#/definitions/Speaker" }
            },
            "tickets": {
              "type": "array",
              "items": { "$ref": "#/definitions/Ticket" }
            },
            "attendees": {
              "type": "integer",
              "minimum": 0
            },
            "maxAttendees": {
              "type": "integer",
              "minimum": 1
            },
            "organizer": {
              "type": "string"
            }
          }
        }
      ]
    },
    {
      "title": "Product",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["productName", "description", "images", "category"],
          "properties": {
            "@type": { "const": "Product" },
            "productName": {
              "type": "string"
            },
            "description": {
              "type": "string"
            },
            "images": {
              "type": "array",
              "items": { "$ref": "#/definitions/MediaRef" }
            },
            "price": {
              "$ref": "#/definitions/Price"
            },
            "brand": {
              "type": "string"
            },
            "manufacturer": {
              "type": "string"
            },
            "model": {
              "type": "string"
            },
            "sku": {
              "type": "string"
            },
            "category": {
              "type": "string"
            },
            "specifications": {
              "type": "array",
              "items": { "$ref": "#/definitions/Spec" }
            },
            "reviews": {
              "type": "object",
              "properties": {
                "count": { "type": "integer" },
                "average": { "type": "number", "minimum": 0, "maximum": 5 }
              }
            },
            "whereToBuy": {
              "type": "array",
              "items": { "$ref": "#/definitions/BuyLink" }
            }
          }
        }
      ]
    },
    {
      "title": "Place",
      "allOf": [
        { "$ref": "#/definitions/BaseGSite" },
        {
          "type": "object",
          "required": ["placeType", "location"],
          "properties": {
            "@type": { "const": "Place" },
            "placeType": {
              "type": "string",
              "enum": ["landmark", "park", "venue", "building", "area"]
            },
            "location": {
              "$ref": "#/definitions/Location"
            },
            "area": {
              "$ref": "#/definitions/Area"
            },
            "hours": {
              "$ref": "#/definitions/Hours"
            },
            "admission": {
              "$ref": "#/definitions/Admission"
            },
            "amenities": {
              "type": "array",
              "items": { "type": "string" }
            },
            "accessibility": {
              "$ref": "#/definitions/Accessibility"
            },
            "history": {
              "type": "string"
            },
            "verifiedVisitors": {
              "type": "integer",
              "minimum": 0
            }
          }
        }
      ]
    }
  ]
}
